<md-content layout="column">
	<div layout="row" layout-xs="column">
		<div flex-xs flex-gt-xs="50" layout="column">
			<md-card>
				<md-toolbar>
					<div class="md-toolbar-tools">
						<h2>
							<span>Feedback Status</span>
						</h2>
						<span flex></span>
						{{submission.creationTime | date}}
					</div>
				</md-toolbar>
				<md-card-content>
					<md-content>
						ON TIME
					</md-content>
				</md-card-content>
			</md-card>
		</div>
		<div flex-xs flex-gt-xs="50" layout="column">
			<md-card>
				<md-toolbar>
					<div class="md-toolbar-tools">
						<h2>
							<span>Assignment Details: {{assignment.name}}</span>
						</h2>
					</div>
				</md-toolbar>
				<md-card-content>
					<md-content>
						{{assignment.description}}
						<span layout="row" ng-show="suppliedFiles.length == 0" layout-align="center center" flex>
							<span><h2>No supplied files</h2></span>
						</span>
						<md-list>
							<md-list-item class="md-2-line" ng-repeat="suppliedFile in suppliedFiles">
								<div class="md-list-item-text">
									<h3>{{suppliedFile.name}}.{{suppliedFile.extension}} ({{suppliedFile.size | bytes}})</h3>
									<p>{{suppliedFile.contentType}}</p>
								</div>
								<download-button file-id="suppliedFile.fileId"></download-button>
							</md-list-item>
						</md-list>
					</md-content>
				</md-card-content>
			</md-card>
		</div>
	</div>
	<md-card flex>
		<md-toolbar>
			<div class="md-toolbar-tools">
				<h2>
					<span>Submission Details</span>
				</h2>
				<span flex></span>
				{{submission.creationTime | date}}
				<md-menu md-position-mode="target-right target" ng-show="submissionActions.length">
					<md-button class="md-icon-button" aria-label="Edit" ng-click="$mdOpenMenu($event)">
						<ng-md-icon icon="more_vert"></ng-md-icon>
					</md-button>
					<md-menu-content width="4">
						<md-menu-item ng-repeat="action in submissionActions">
							<md-button ng-click="action.action(assignment)" aria-label="action.description">
								<ng-md-icon md-menu-align-target icon="{{action.icon}}"></ng-md-icon>
								{{action.description}}
							</md-button>
						</md-menu-item>
					</md-menu-content>
				</md-menu>
			</div>
		</md-toolbar>
		<md-card-content>
			<md-content>
				<p>{{submission.comment}}</p>
				<span layout="row" ng-show="submissionFiles.length == 0" layout-align="center center" flex>
					<span><h2>No submission files</h2></span>
				</span>
				<md-list>
					<md-list-item class="md-2-line" ng-repeat="submissionFile in submissionFiles">
						<div class="md-list-item-text">
							<h3>{{submissionFile.name}}.{{submissionFile.extension}} ({{submissionFile.size | bytes}})</h3>
							<p>Hash: {{submissionFile.hash}}</p>
						</div>
						<download-button file-id="submissionFile.fileId"></download-button>
					</md-list-item>
				</md-list>	
			</md-content>
		</md-card-content>
	</md-card>
	<div layout="row" layout-xs="column">
		<div flex-xs flex-gt-xs="50" layout="column">
			<md-card>
				<md-toolbar>
					<div class="md-toolbar-tools">
						<h2>
							<span>Comments</span>
						</h2>
						<span flex></span>
						<md-menu md-position-mode="target-right target" ng-show="commentActions.length">
							<md-button class="md-icon-button" aria-label="Edit" ng-click="$mdOpenMenu($event)">
								<ng-md-icon icon="more_vert"></ng-md-icon>
							</md-button>
							<md-menu-content width="4">
								<md-menu-item ng-repeat="action in commentActions">
									<md-button ng-click="action.action(assignment)" aria-label="action.description">
										<ng-md-icon md-menu-align-target icon="{{action.icon}}"></ng-md-icon>
										{{action.description}}
									</md-button>
								</md-menu-item>
							</md-menu-content>
						</md-menu>
					</div>
				</md-toolbar>
				<md-card-content>
					<md-content>
						<span flex layout="row" layout-align="center center" ng-show="!comments.length">
							<span><h3>No comments!</h3></span>
						</span>
						<md-list ng-show="comments.length">
							<md-list-item class="md-3-line md-long-text" ng-repeat="comment in comments">
								<div class="md-list-item-text">
									<h3>Comment on {{comment.creationTime | date}}</h3>
									<p>{{comment.comment}}</p>
								</div>
							</md-list-item>
						</md-list>
					</md-content>
				</md-card-content>
			</md-card>
		</div>
		<div flex-xs flex-gt-xs="50" layout="column">
			<md-card>
				<md-toolbar>
					<div class="md-toolbar-tools">
						<h2>
							<span>Marks</span>
						</h2>
						<span flex></span>
						<md-menu md-position-mode="target-right target" ng-show="markActions.length">
							<md-button class="md-icon-button" aria-label="Edit" ng-click="$mdOpenMenu($event)">
								<ng-md-icon icon="more_vert"></ng-md-icon>
							</md-button>
							<md-menu-content width="4">
								<md-menu-item ng-repeat="action in markActions">
									<md-button ng-click="action.action(assignment)" aria-label="action.description">
										<ng-md-icon md-menu-align-target icon="{{action.icon}}"></ng-md-icon>
										{{action.description}}
									</md-button>
								</md-menu-item>
							</md-menu-content>
						</md-menu>
					</div>
				</md-toolbar>
				<md-card-content>
					<md-content>
						<span flex layout="row" layout-align="center center" ng-show="!marks.length">
							<span><h3>No mark components!</h3></span>
						</span>
						<div layout="row" ng-show="marks.length">
							<span flex="50">{{sumMarks}} / {{totalMarks}}</span>
							<span flex="50">{{grade}}</span>
						</div>
						<md-list ng-show="marks.length">
							<md-list-item class="md-2-line secondary-button-padding" ng-repeat="mark in marks">
								<div class="md-list-item-text">
									<h3>{{mark.markComponent.name}} (
										<span ng-show="mark.editMode"><input type="numeric" ng-model="mark.newMark"/></span>
										<span ng-show="!mark.editMode">{{mark.mark || "-"}}</span>
										/ {{mark.markComponent.maxMark}})</h3>
									<p>{{mark.markComponent.description}}</p>
								</div>
								<md-button class="md-icon-button" ng-show="!mark.editMode" ng-click="mark.editMode = true">
									<ng-md-icon icon="edit"></ng-md-icon>
								</md-button>
								<md-button ng-show="mark.editMode" class="md-icon-button" ng-click="saveMark(mark)">
									<ng-md-icon icon="check" style="fill: #4CAF50;"></ng-md-icon>
								</md-button>
								<md-button ng-show="mark.editMode" class="md-icon-button" ng-click="mark.editMode = false">
									<ng-md-icon icon="cancel" style="fill: #F44336;"></ng-md-icon>
								</md-button>
							</md-list-item>
						</md-list>
					</md-content>
				</md-card-content>
			</md-card>
		</div>
	</div>
</md-content>